<!DOCTYPE html>
<html>
<head lang="pl">
    <meta charset="UTF-8">
    <title>Walidacja Formularz</title>

    <link rel="stylesheet" href="bootstrap-3.3.6-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap-3.3.6-dist/css/bootstrap-theme.min.css">
    <script src="bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
    <script src="jquery.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">


    <script>

        $(document).ready(function() {


            var netto=$("#netto").val();
            var vat=$("#vat").val();
            var nettoOk=false;
            var vatOk=false;



            function bruttoCalc(){
                if(vatOk==true && nettoOk==true)
                {
                     netto=parseFloat($("#netto").val());
                     vat=parseFloat($("#vat").val());

                    var wynik=netto+netto*(vat/100);

                    $("#brutto").val(wynik);

                }
                else{
                    $("#brutto").val("");
                }
            }


            $("#submit").click(function(){
                var name=$("#name").val();

                if(name==="" || name.length<3 || name.length>15) {
                    $("#name").css('border-color', 'red');
                }else{
                    $("#name").css('border-color', 'green');
                }

            });


            $("#name").change(function () {

                var name=$("#name").val();

                if(name==="" || name.length<3 || name.length>15) {
                    $("#name").css('border-color', 'red');
                }else{
                    $("#name").css('border-color', 'green');
                }


            });


            $("#code").change(function () {

                var code=$("#code").val();
                var kod_wzorzec =  /^[a-zA-Z0-9]{2}-[a-zA-Z0-9]{2}$/;

                if(kod_wzorzec.test(code)){
                    $("#code").css('border-color', 'green');
                }
                else{
                    $("#code").css('border-color', 'red');
                }


            });


            $("#netto").change(function () {

                netto=$("#netto").val();




                if($.isNumeric(netto)){
                    $("#netto").css('border-color', 'green');
                    nettoOk=true;
                   bruttoCalc();

                }
                else{
                    $("#netto").css('border-color', 'red');
                    nettoOk=false;
                    bruttoCalc();
                }

            });



            $("#vat").change(function () {

                vat=$("#vat").val();

                if($.isNumeric(vat)){
                    $("#vat").css('border-color', 'green');
                    vatOk=true;

                    bruttoCalc();


                }
                else{
                    $("#vat").css('border-color', 'red');
                    vatOk=false;
                    bruttoCalc();
                }


            });
        });




    </script>

</head>

<body>

<div class="container">

    <h2>Dodaj produkt</h2>
    <form role="form" class="col-lg-5">
        <div class="form-group " id="1">
            <label for="name">Nazwa:</label>
            <input type="text" class="form-control" id="name" placeholder="Wpisz nazwę" onchange="">
           <!-- <span class="glyphicon glyphicon-alert form-control-feedback"></span>-->
        </div>

        <div class="form-group">
            <label for="code">Kod towaru:</label>
            <input type="text" class="form-control" id="code" placeholder="XX-XX">
        </div>


        <div class="form-group">
            <label for="netto">Cena netto:</label>
            <input type="number" class="form-control" id="netto">
        </div>

        <div class="form-group">
            <label for="vat">Vat:</label>
            <input type="number" class="form-control" id="vat">
        </div>

        <div class="form-group">
            <label for="brutto">Cena brutto:</label>
            <input type="text" class="form-control" readonly="readonly" id="brutto">
        </div>


        <div class="form-group">
            <label for="sel1">Kategoria:</label>
            <select class="form-control" id="sel1">
                <option>Kategoria 1</option>
                <option>Kategoria 2</option>
                <option>Kategoria 3</option>
                <option>Kategoria 4</option>
            </select>
        </div>


        <label for="opc">Opcja</label>
        <div class="form-group" id="opc">

            <label class="checkbox-inline">
                <input type="checkbox" value="">Option 1
            </label>

            <label class="checkbox-inline ">
                <input type="checkbox" value="">Option 2
            </label>

            <label class="checkbox-inline">
                <input type="checkbox" value="">Option 3
            </label>

            <label class="checkbox-inline">
                <input type="checkbox" value="">Option 4
            </label>

            <label class="checkbox-inline">
                <input type="checkbox" value="">Option 5
            </label>


        </div>


        <label for="rate">Ocena:</label>
        <div class="form-group" id="rate">
            <div class="radio">
                <label><input type="radio" name="optradio">1</label>
            </div>

            <div class="radio">
                <label><input type="radio" name="optradio">2</label>
            </div>

            <div class="radio">
                <label><input type="radio" name="optradio">3</label>
            </div>

            <div class="radio">
                <label><input type="radio" name="optradio">4</label>
            </div>

            <div class="radio">
                <label><input type="radio" name="optradio">5</label>
                
            </div>
        </div>

        <button type="button" class="btn btn-primary" id="submit">Prześlij</button>

    </form>

</div>





</body>
</html>